System.register(["./index-legacy-0-iKH3Vk.js","./index-legacy-C4KCpr_b.js","./vue-legacy-DezzmnhY.js","./use-expose-legacy-BtP2PFc-.js"],(function(e,t){"use strict";var l,a,r,n,i,o,s,c,d,u,v,f,g,m,p,h,b,x,_,y,w,k,z,S,C,M,V,I,B,A,E,j,$,q,T,P,L,W,F;return{setters:[e=>{l=e.C,a=e.y,r=e.D,n=e.E,i=e.G,o=e.h,s=e.c,c=e.J,d=e.A,u=e.f,v=e.j,f=e.K,g=e.M,m=e.p,p=e.I,h=e.m,b=e.N,x=e.n,_=e.e,y=e.F,w=e.O,k=e.Q,z=e.R,S=e.w},e=>{C=e.a,M=e.c},e=>{V=e.k,I=e.s,B=e.e,A=e.r,E=e.l,j=e.w,$=e.o,q=e.n,T=e.q,P=e.H,L=e.x,W=e.p},e=>{F=e.u}],execute:function(){var t=document.createElement("style");t.textContent=':root,:host{--van-field-label-width: 6.2em;--van-field-label-color: var(--van-text-color);--van-field-label-margin-right: var(--van-padding-sm);--van-field-input-text-color: var(--van-text-color);--van-field-input-error-text-color: var(--van-danger-color);--van-field-input-disabled-text-color: var(--van-text-color-3);--van-field-placeholder-text-color: var(--van-text-color-3);--van-field-icon-size: min(4.8vw, 36px);--van-field-clear-icon-size: min(4.8vw, 36px);--van-field-clear-icon-color: var(--van-gray-5);--van-field-right-icon-color: var(--van-gray-6);--van-field-error-message-color: var(--van-danger-color);--van-field-error-message-font-size: min(3.2vw, 24px);--van-field-text-area-min-height: min(16vw, 120px);--van-field-word-limit-color: var(--van-gray-7);--van-field-word-limit-font-size: var(--van-font-size-sm);--van-field-word-limit-line-height: min(4.267vw, 32px);--van-field-disabled-text-color: var(--van-text-color-3);--van-field-required-mark-color: var(--van-red)}.van-field{flex-wrap:wrap}.van-field__label{flex:none;box-sizing:border-box;width:var(--van-field-label-width);margin-right:var(--van-field-label-margin-right);color:var(--van-field-label-color);text-align:left;word-wrap:break-word}.van-field__label--center{text-align:center}.van-field__label--right{text-align:right}.van-field__label--top{display:flex;width:100%;text-align:left;margin-bottom:var(--van-padding-base);overflow-wrap:break-word}.van-field__label--required:before{margin-right:min(.533vw,4px);color:var(--van-field-required-mark-color);content:"*"}.van-field--disabled .van-field__label{color:var(--van-field-disabled-text-color)}.van-field__value{overflow:visible}.van-field__body{display:flex;align-items:center}.van-field__control{display:block;box-sizing:border-box;width:100%;min-width:0;margin:0;padding:0;color:var(--van-field-input-text-color);line-height:inherit;text-align:left;background-color:transparent;border:0;resize:none;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.van-field__control::-moz-placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control::placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control:-moz-read-only{cursor:default}.van-field__control:read-only{cursor:default}.van-field__control:disabled{color:var(--van-field-input-disabled-text-color);cursor:not-allowed;opacity:1;-webkit-text-fill-color:var(--van-field-input-disabled-text-color)}.van-field__control--center{justify-content:center;text-align:center}.van-field__control--right{justify-content:flex-end;text-align:right}.van-field__control--custom{display:flex;align-items:center;min-height:var(--van-cell-line-height)}.van-field__control--error::-moz-placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--error,.van-field__control--error::placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--min-height{min-height:var(--van-field-text-area-min-height)}.van-field__control[type=date],.van-field__control[type=time],.van-field__control[type=datetime-local]{min-height:var(--van-cell-line-height)}.van-field__control[type=search]{-webkit-appearance:none}.van-field__clear,.van-field__icon,.van-field__button,.van-field__right-icon{flex-shrink:0}.van-field__clear,.van-field__right-icon{margin-right:calc(var(--van-padding-xs) * -1);padding:0 var(--van-padding-xs);line-height:inherit}.van-field__clear{color:var(--van-field-clear-icon-color);font-size:var(--van-field-clear-icon-size);cursor:pointer}.van-field__left-icon .van-icon,.van-field__right-icon .van-icon{display:block;font-size:var(--van-field-icon-size);line-height:inherit}.van-field__left-icon{margin-right:var(--van-padding-base)}.van-field__right-icon{color:var(--van-field-right-icon-color)}.van-field__button{padding-left:var(--van-padding-xs)}.van-field__error-message{color:var(--van-field-error-message-color);font-size:var(--van-field-error-message-font-size);text-align:left}.van-field__error-message--center{text-align:center}.van-field__error-message--right{text-align:right}.van-field__word-limit{margin-top:var(--van-padding-base);color:var(--van-field-word-limit-color);font-size:var(--van-field-word-limit-font-size);line-height:var(--van-field-word-limit-line-height);text-align:right}\n/*$vite$:1*/',document.head.appendChild(t);let H=0;function R(e){return Array.isArray(e)?!e.length:0!==e&&!e}function D(e,t){const{message:l}=t;return n(l)?l(e,t):l||""}function N({target:e}){e.composing=!0}function O({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function K(e){return[...e].length}function G(e,t){return[...e].slice(0,t).join("")}const[J,Q]=s("field"),U={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:x,max:Number,min:Number,formatter:Function,clearIcon:h("clear"),modelValue:b(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:h("focus"),formatTrigger:h("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},X=o({},M,U,{rows:x,type:h("text"),rules:Array,autosize:[Boolean,Object],labelWidth:x,labelClass:_,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var Y=I({name:J,props:X,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const o=function(){const e=V(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++H}`}(),s=B({status:"unvalidated",focused:!1,validateMessage:""}),h=A(),b=A(),x=A(),{parent:_}=c(y),S=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},M=t=>v(e[t])?e[t]:_&&v(_.props[t])?_.props[t]:void 0,I=E((()=>{const t=M("readonly");if(e.clearable&&!t){const t=""!==S(),l="always"===e.clearTrigger||"focus"===e.clearTrigger&&s.focused;return t&&l}return!1})),J=E((()=>x.value&&n.input?x.value():e.modelValue)),U=E((()=>{var t;const l=M("required");return"auto"===l?null==(t=e.rules)?void 0:t.some((e=>e.required)):l})),X=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===s.status)return;let{value:e}=J;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(R(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return s.status="failed",void(s.validateMessage=D(e,t));if(t.validator){if(R(e)&&!1===t.validateEmpty)return;return function(e,t){return new Promise((l=>{const a=t.validator(e,t);i(a)?a.then(l):l(a)}))}(e,t).then((l=>{l&&"string"==typeof l?(s.status="failed",s.validateMessage=l):!1===l&&(s.status="failed",s.validateMessage=D(e,t))}))}}))),Promise.resolve()),Y=()=>{s.status="unvalidated",s.validateMessage=""},Z=()=>t("endValidate",{status:s.status,message:s.validateMessage}),ee=(l=e.rules)=>new Promise((a=>{Y(),l?(t("startValidate"),X(l).then((()=>{"failed"===s.status?(a({name:e.name,message:s.validateMessage}),Z()):(s.status="passed",a(),Z())}))):a()})),te=t=>{if(_&&e.rules){const{validateTrigger:l}=_.props,a=w(l).includes(t),r=e.rules.filter((e=>e.trigger?w(e.trigger).includes(t):a));r.length&&ee(r)}},le=(l,a="onChange")=>{var r,n;const i=l;l=(t=>{var l;const{maxlength:a}=e;if(v(a)&&K(t)>+a){const e=S();if(e&&K(e)===+a)return e;const r=null==(l=h.value)?void 0:l.selectionEnd;if(s.focused&&r){const e=[...t],l=e.length-+a;return e.splice(r-l,l),e.join("")}return G(t,+a)}return t})(l);const o=K(i)-K(l);if("number"===e.type||"digit"===e.type){const t="number"===e.type;if(l=f(l,t,t),"onBlur"===a&&""!==l&&(void 0!==e.min||void 0!==e.max)){const t=g(+l,null!=(r=e.min)?r:-1/0,null!=(n=e.max)?n:1/0);+l!==t&&(l=t.toString())}}let c=0;if(e.formatter&&a===e.formatTrigger){const{formatter:t,maxlength:a}=e;if(l=t(l),v(a)&&K(l)>+a&&(l=G(l,+a)),h.value&&s.focused){const{selectionEnd:e}=h.value,l=G(i,e);c=K(t(l))-K(l)}}if(h.value&&h.value.value!==l)if(s.focused){let{selectionStart:e,selectionEnd:t}=h.value;if(h.value.value=l,v(e)&&v(t)){const a=K(l);o?(e-=o,t-=o):c&&(e+=c,t+=c),h.value.setSelectionRange(Math.min(e,a),Math.min(t,a))}}else h.value.value=l;l!==e.modelValue&&t("update:modelValue",l)},ae=e=>{e.target.composing||le(e.target.value)},re=()=>{var e;return null==(e=h.value)?void 0:e.blur()},ne=()=>{var e;return null==(e=h.value)?void 0:e.focus()},ie=()=>{const t=h.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const n=l();e.style.height="auto";let i=e.scrollHeight;if(a(t)){const{maxHeight:e,minHeight:l}=t;void 0!==e&&(i=Math.min(i,e)),void 0!==l&&(i=Math.max(i,l))}i&&(e.style.height=`${i}px`,r(n))}(t,e.autosize)},oe=e=>{s.focused=!0,t("focus",e),q(ie),M("readonly")&&re()},se=e=>{s.focused=!1,le(S(),"onBlur"),t("blur",e),M("readonly")||(te("onBlur"),q(ie),k())},ce=e=>t("clickInput",e),de=e=>t("clickLeftIcon",e),ue=e=>t("clickRightIcon",e),ve=E((()=>"boolean"==typeof e.error?e.error:!(!_||!_.props.showError||"failed"!==s.status)||void 0)),fe=E((()=>{const e=M("labelWidth"),t=M("labelAlign");if(e&&"top"!==t)return{width:d(e)}})),ge=l=>{13===l.keyCode&&(_&&_.props.submitOnEnter||"textarea"===e.type||m(l),"search"===e.type&&re()),t("keypress",l)},me=()=>e.id||`${o}-input`,pe=()=>{const t=Q("control",[M("inputAlign"),{error:ve.value,custom:!!n.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(n.input)return T("div",{class:t,onClick:ce},[n.input()]);const l={id:me(),ref:h,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:M("disabled"),readonly:M("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${o}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:se,onFocus:oe,onInput:ae,onClick:ce,onChange:O,onKeypress:ge,onCompositionend:O,onCompositionstart:N};return"textarea"===e.type?T("textarea",L(l,{inputmode:e.inputmode}),null):T("input",L((a=e.type,r=e.inputmode,"number"===a&&(a="text",null!=r||(r="decimal")),"digit"===a&&(a="tel",null!=r||(r="numeric")),{type:a,inputmode:r}),l),null);var a,r},he=()=>{const t=n["right-icon"];if(e.rightIcon||t)return T("div",{class:Q("right-icon"),onClick:ue},[t?t():T(p,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},be=()=>{if(e.showWordLimit&&e.maxlength){const t=K(S());return T("div",{class:Q("word-limit")},[T("span",{class:Q("word-num")},[t]),P("/"),e.maxlength])}},xe=()=>{if(_&&!1===_.props.showErrorMessage)return;const t=e.errorMessage||s.validateMessage;if(t){const e=n["error-message"],l=M("errorMessageAlign");return T("div",{class:Q("error-message",l)},[e?e({message:t}):t])}},_e=()=>[T("div",{class:Q("body")},[pe(),I.value&&T(p,{ref:b,name:e.clearIcon,class:Q("clear")},null),he(),n.button&&T("div",{class:Q("button")},[n.button()])]),be(),xe()];return F({blur:re,focus:ne,validate:ee,formValue:J,resetValidation:Y,getValidationStatus:()=>s.status}),W(z,{customValue:x,resetValidation:Y,validateWithTrigger:te}),j((()=>e.modelValue),(()=>{le(S()),Y(),te("onChange"),q(ie)})),$((()=>{le(S(),e.formatTrigger),q(ie)})),u("touchstart",(e=>{m(e),t("update:modelValue",""),t("clear",e)}),{target:E((()=>{var e;return null==(e=b.value)?void 0:e.$el}))}),()=>{const t=M("disabled"),l=M("labelAlign"),a=(()=>{const t=n["left-icon"];if(e.leftIcon||t)return T("div",{class:Q("left-icon"),onClick:de},[t?t():T(p,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return T(C,{size:e.size,class:Q({error:ve.value,disabled:t,[`label-${l}`]:l}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:fe.value,valueClass:Q("value"),titleClass:[Q("label",[l,{required:U.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:a&&"top"!==l?()=>a:null,title:()=>{const t=(()=>{const t=M("labelWidth"),l=M("labelAlign"),a=M("colon")?":":"";return n.label?[n.label(),a]:e.label?T("label",{id:`${o}-label`,for:n.input?void 0:me(),"data-allow-mismatch":"attribute",onClick:e=>{m(e),ne()},style:"top"===l&&t?{width:d(t)}:void 0},[e.label+a]):void 0})();return"top"===l?[a,t].filter(Boolean):t||[]},value:_e,extra:n.extra})}}});e("F",S(Y))}}}));
