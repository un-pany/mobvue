import{N as h,a as C}from"./index-D5yy1BY_.js";import{R as A,a as V}from"./index-D1UNXlRo.js";import{C as x,a as B}from"./index-CN3rbPw8.js";import{_ as E}from"./NoticeBar.vue_vue_type_script_setup_true_lang-CztMJpFJ.js";import{g as y,r as G,B as N,m as e,I as i,i as U,v as m,C as d,U as p,G as f,M as v,V as $}from"./vue-BMmLX8t2.js";import"./use-expose-BYqisazq.js";function k(r){if(h(r)&&r.length>0){const{roles:a}=C();return a.some(t=>r.includes(t))}else return console.error("参数必须是一个数组且长度大于 0，参考：checkPermission(['admin', 'editor'])"),!1}const w={"un-mb-20px":""},j=y({__name:"permission",setup(r){const a=C(),t=G(a.roles[0]);function g(u){a.changeRoles(u)}return(u,o)=>{const c=V,n=B,l=x,R=A,_=$("permission");return d(),N("div",w,[e(E,{text:"基于权限指令、权限函数实现的按钮级控制"}),e(R,{modelValue:m(t),"onUpdate:modelValue":o[2]||(o[2]=s=>U(t)?t.value=s:null),onChange:g},{default:i(()=>[e(l,{title:"切换用户",inset:""},{default:i(()=>[e(n,{title:"Admin 用户",onClick:o[0]||(o[0]=s=>t.value="admin")},{"right-icon":i(()=>[e(c,{name:"admin"})]),_:1}),e(n,{title:"Editor 用户",onClick:o[1]||(o[1]=s=>t.value="editor")},{"right-icon":i(()=>[e(c,{name:"editor"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(l,{title:"权限指令",inset:""},{default:i(()=>[p(e(n,{title:"Admin 可见",value:"Role admin"},null,512),[[_,["admin"]]]),p(e(n,{title:"Admin 或 Editor 可见",value:"Role admin or editor"},null,512),[[_,["admin","editor"]]])]),_:1}),e(l,{title:"权限函数",inset:""},{default:i(()=>[m(k)(["admin"])?(d(),f(n,{key:0,title:"Admin 可见",value:"Role admin"})):v("",!0),m(k)(["admin","editor"])?(d(),f(n,{key:1,title:"Admin 或 Editor 可见",value:"Role admin or editor"})):v("",!0)]),_:1})])}}});export{j as default};
