import{t as x,f as _,n as b,T as W,o as we,g as xe,p as oe,c as D,h as ae,i as A,j as Se,k as F,w as $,l as _e,m as S,q as Ie,H as Oe,I as G,P as ze,v as Pe,x as Be,L as le,y as se,z as Le,A as Te,B as U,a as pe,C as Ee}from"./index-Dki9IEzu.js";import{B as De}from"./index-DdgFpNQj.js";import{u as J,C as Ae,a as $e}from"./index-BQCz-dg2.js";import{r as g,h as ie,t as ce,w as I,s as L,q as l,T as re,Q as ue,R as X,S as de,l as ve,o as q,f as Ve,F as Ne,x as B,n as K,p as Re,g as je,N as Me,e as Ue,k as fe,U as Fe,y as He,E as T,z as Ye,K as R,u as j,A as Ke,H as Ge,D as Xe}from"./vue-BUcO0Ml9.js";import{u as me}from"./use-expose-s9g8it3v.js";const qe={show:Boolean,zIndex:b,overlay:x,duration:b,teleport:[String,Object],lockScroll:x,lazyRender:x,beforeClose:Function,overlayStyle:Object,overlayClass:_,transitionAppear:Boolean,closeOnClickOverlay:x};function Ze(e,t){return e>t?"horizontal":t>e?"vertical":""}function Qe(){const e=g(0),t=g(0),n=g(0),c=g(0),a=g(0),i=g(0),o=g(""),d=g(!0),f=()=>o.value==="vertical",y=()=>o.value==="horizontal",r=()=>{n.value=0,c.value=0,a.value=0,i.value=0,o.value="",d.value=!0};return{move:m=>{const k=m.touches[0];n.value=(k.clientX<0?0:k.clientX)-e.value,c.value=k.clientY-t.value,a.value=Math.abs(n.value),i.value=Math.abs(c.value);const C=10;(!o.value||a.value<C&&i.value<C)&&(o.value=Ze(a.value,i.value)),d.value&&(a.value>W||i.value>W)&&(d.value=!1)},start:m=>{r(),e.value=m.touches[0].clientX,t.value=m.touches[0].clientY},reset:r,startX:e,startY:t,deltaX:n,deltaY:c,offsetX:a,offsetY:i,direction:o,isVertical:f,isHorizontal:y,isTap:d}}let p=0;const ee="van-overflow-hidden";function We(e,t){const n=Qe(),c="01",a="10",i=r=>{n.move(r);const u=n.deltaY.value>0?a:c,v=xe(r.target,e.value),{scrollHeight:m,offsetHeight:k,scrollTop:C}=v;let s="11";C===0?s=k>=m?"00":"01":C+k>=m&&(s="10"),s!=="11"&&n.isVertical()&&!(parseInt(s,2)&parseInt(u,2))&&oe(r,!0)},o=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",i,{passive:!1}),p||document.body.classList.add(ee),p++},d=()=>{p&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",i),p--,p||document.body.classList.remove(ee))},f=()=>t()&&o(),y=()=>t()&&d();we(f),ie(y),ce(y),I(t,r=>{r?o():d()})}function he(e){const t=g(!1);return I(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const[Je,et]=D("overlay"),tt={show:Boolean,zIndex:b,duration:b,className:_,lockScroll:x,lazyRender:x,customStyle:Object,teleport:[String,Object]};var nt=L({name:Je,props:tt,setup(e,{slots:t}){const n=g(),c=he(()=>e.show||!e.lazyRender),a=o=>{e.lockScroll&&oe(o,!0)},i=c(()=>{var o;const d=A(Se(e.zIndex),e.customStyle);return F(e.duration)&&(d.animationDuration="".concat(e.duration,"s")),X(l("div",{ref:n,style:d,class:[et(),e.className]},[(o=t.default)==null?void 0:o.call(t)]),[[de,e.show]])});return ae("touchmove",a,{target:n}),()=>{const o=l(re,{name:"van-fade",appear:!0},{default:i});return e.teleport?l(ue,{to:e.teleport},{default:()=>[o]}):o}}});const ot=$(nt),at=A({},qe,{round:Boolean,position:S("center"),closeIcon:S("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:S("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[lt,te]=D("popup");var st=L({name:lt,inheritAttrs:!1,props:at,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:c}){let a,i;const o=g(),d=g(),f=he(()=>e.show||!e.lazyRender),y=ve(()=>{const h={zIndex:o.value};if(F(e.duration)){const w=e.position==="center"?"animationDuration":"transitionDuration";h[w]="".concat(e.duration,"s")}return h}),r=()=>{a||(a=!0,o.value=e.zIndex!==void 0?+e.zIndex:_e(),t("open"))},u=()=>{a&&Ie(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},v=h=>{t("clickOverlay",h),e.closeOnClickOverlay&&u()},m=()=>{if(e.overlay)return l(ot,B({show:e.show,class:e.overlayClass,zIndex:o.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},J(),{onClick:v}),{default:c["overlay-content"]})},k=h=>{t("clickCloseIcon",h),u()},C=()=>{if(e.closeable)return l(G,{role:"button",tabindex:0,name:e.closeIcon,class:[te("close-icon",e.closeIconPosition),Oe],classPrefix:e.iconPrefix,onClick:k},null)};let s;const O=()=>{s&&clearTimeout(s),s=setTimeout(()=>{t("opened")})},V=()=>t("closed"),ge=h=>t("keydown",h),ke=f(()=>{var h;const{destroyOnClose:w,round:H,position:N,safeAreaInsetTop:Ce,safeAreaInsetBottom:be,show:Q}=e;if(!(!Q&&w))return X(l("div",B({ref:d,style:y.value,role:"dialog",tabindex:0,class:[te({round:H,[N]:N}),{"van-safe-area-top":Ce,"van-safe-area-bottom":be}],onKeydown:ge},n,J()),[(h=c.default)==null?void 0:h.call(c),C()]),[[de,Q]])}),Z=()=>{const{position:h,transition:w,transitionAppear:H}=e,N=h==="center"?"van-fade":"van-popup-slide-".concat(h);return l(re,{name:w||N,appear:H,onAfterEnter:O,onAfterLeave:V},{default:ke})};return I(()=>e.show,h=>{h&&!a&&(r(),n.tabindex===0&&K(()=>{var w;(w=d.value)==null||w.focus()})),!h&&a&&(a=!1,t("close"))}),me({popupRef:d}),We(d,()=>e.show&&e.lockScroll),ae("popstate",()=>{e.closeOnPopstate&&(u(),i=!1)}),q(()=>{e.show&&r()}),Ve(()=>{i&&(t("update:show",!0),i=!1)}),ie(()=>{e.show&&e.teleport&&(u(),i=!0)}),Re(ze,()=>e.show),()=>e.teleport?l(ue,{to:e.teleport},{default:()=>[m(),Z()]}):l(Ne,null,[m(),Z()])}});const it=$(st);let E=0;function ct(e){e?(E||document.body.classList.add("van-toast--unclickable"),E++):E&&(E--,E||document.body.classList.remove("van-toast--unclickable"))}const[rt,z]=D("toast"),ut=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],dt={icon:String,show:Boolean,type:S("text"),overlay:Boolean,message:b,iconSize:b,duration:Pe(2e3),position:S("middle"),teleport:[String,Object],wordBreak:String,className:_,iconPrefix:String,transition:S("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:_,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:b};var ye=L({name:rt,props:dt,emits:["update:show"],setup(e,{emit:t,slots:n}){let c,a=!1;const i=()=>{const u=e.show&&e.forbidClick;a!==u&&(a=u,ct(a))},o=u=>t("update:show",u),d=()=>{e.closeOnClick&&o(!1)},f=()=>clearTimeout(c),y=()=>{const{icon:u,type:v,iconSize:m,iconPrefix:k,loadingType:C}=e;if(u||v==="success"||v==="fail")return l(G,{name:u||v,size:m,class:z("icon"),classPrefix:k},null);if(v==="loading")return l(le,{class:z("loading"),size:m,type:C},null)},r=()=>{const{type:u,message:v}=e;if(n.message)return l("div",{class:z("text")},[n.message()]);if(F(v)&&v!=="")return u==="html"?l("div",{key:0,class:z("text"),innerHTML:String(v)},null):l("div",{class:z("text")},[v])};return I(()=>[e.show,e.forbidClick],i),I(()=>[e.show,e.type,e.message,e.duration],()=>{f(),e.show&&e.duration>0&&(c=setTimeout(()=>{o(!1)},e.duration))}),q(i),je(i),()=>l(it,B({class:[z([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:d,onClosed:f,"onUpdate:show":o},Be(e,ut)),{default:()=>[y(),r()]})}});function vt(){const e=Ue({show:!1}),t=a=>{e.show=a},n=a=>{A(e,a,{transitionAppear:!0}),t(!0)},c=()=>t(!1);return me({open:n,close:c,toggle:t}),{open:n,close:c,state:e,toggle:t}}function ft(e){const t=Me(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const mt={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let M=[],ht=!1,ne=A({},mt);const yt=new Map;function gt(e){return Le(e)?e:{message:e}}function kt(){const{instance:e}=ft({setup(){const t=g(""),{open:n,state:c,close:a,toggle:i}=vt(),o=()=>{},d=()=>l(ye,B(c,{onClosed:o,"onUpdate:show":i}),null);return I(t,f=>{c.message=f}),fe().render=d,{open:n,close:a,message:t}}});return e}function Ct(){if(!M.length||ht){const e=kt();M.push(e)}return M[M.length-1]}function bt(e={}){if(!se)return{};const t=Ct(),n=gt(e);return t.open(A({},ne,yt.get(n.type||ne.type),n)),t}$(ye);const[wt,Y]=D("switch"),xt={size:b,loading:Boolean,disabled:Boolean,modelValue:_,activeColor:String,inactiveColor:String,activeValue:{type:_,default:!0},inactiveValue:{type:_,default:!1}};var St=L({name:wt,props:xt,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const c=()=>e.modelValue===e.activeValue,a=()=>{if(!e.disabled&&!e.loading){const o=c()?e.inactiveValue:e.activeValue;t("update:modelValue",o),t("change",o)}},i=()=>{if(e.loading){const o=c()?e.activeColor:e.inactiveColor;return l(le,{class:Y("loading"),color:o},null)}if(n.node)return n.node()};return Te(()=>e.modelValue),()=>{var o;const{size:d,loading:f,disabled:y,activeColor:r,inactiveColor:u}=e,v=c(),m={fontSize:U(d),backgroundColor:v?r:u};return l("div",{role:"switch",class:Y({on:v,loading:f,disabled:y}),style:m,tabindex:y?void 0:0,"aria-checked":v,onClick:a},[l("div",{class:Y("node")},[i()]),(o=n.background)==null?void 0:o.call(n)])}}});const _t=$(St),[It,P]=D("image"),Ot={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:b,height:b,radius:b,lazyLoad:Boolean,iconSize:b,showError:x,errorIcon:S("photo-fail"),iconPrefix:String,showLoading:x,loadingIcon:S("photo"),crossorigin:String,referrerpolicy:String};var zt=L({name:It,props:Ot,emits:["load","error"],setup(e,{emit:t,slots:n}){const c=g(!1),a=g(!0),i=g(),{$Lazyload:o}=fe().proxy,d=ve(()=>{const s={width:U(e.width),height:U(e.height)};return F(e.radius)&&(s.overflow="hidden",s.borderRadius=U(e.radius)),s});I(()=>e.src,()=>{c.value=!1,a.value=!0});const f=s=>{a.value&&(a.value=!1,t("load",s))},y=()=>{const s=new Event("load");Object.defineProperty(s,"target",{value:i.value,enumerable:!0}),f(s)},r=s=>{c.value=!0,a.value=!1,t("error",s)},u=(s,O,V)=>V?V():l(G,{name:s,size:e.iconSize,class:O,classPrefix:e.iconPrefix},null),v=()=>{if(a.value&&e.showLoading)return l("div",{class:P("loading")},[u(e.loadingIcon,P("loading-icon"),n.loading)]);if(c.value&&e.showError)return l("div",{class:P("error")},[u(e.errorIcon,P("error-icon"),n.error)])},m=()=>{if(c.value||!e.src)return;const s={alt:e.alt,class:P("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?X(l("img",B({ref:i},s),null),[[Fe("lazy"),e.src]]):l("img",B({ref:i,src:e.src,onLoad:f,onError:r},s),null)},k=({el:s})=>{const O=()=>{s===i.value&&a.value&&y()};i.value?O():K(O)},C=({el:s})=>{s===i.value&&!c.value&&r()};return o&&se&&(o.$on("loaded",k),o.$on("error",C),ce(()=>{o.$off("loaded",k),o.$off("error",C)})),q(()=>{K(()=>{var s;(s=i.value)!=null&&s.complete&&!e.lazyLoad&&y()})}),()=>{var s;return l("div",{class:P({round:e.round,block:e.block}),style:d.value},[m(),v(),(s=n.default)==null?void 0:s.call(n)])}}});const Pt=$(zt),Bt="/mobvue/favicon.png",Lt={"un-py-16px":""},Tt={"un-flex-y-center":"","un-gap-16px":""},pt={"un-flex":"","un-flex-col":""},Et={"un-fw-600":""},Rt=L({__name:"index",setup(e){const t=Xe(),n=pe(),{isDark:c,changeDark:a}=Ee();function i(){bt("更多功能，敬请期待 ~")}function o(){n.resetToken(),t.push("/login")}return(d,f)=>{const y=Pt,r=$e,u=Ae,v=_t,m=De;return Ye(),He("div",Lt,[l(u,{"un-mb-8px":""},{default:T(()=>[l(r,{size:"large","is-link":"",center:"",onClick:i},{title:T(()=>[R("div",Tt,[l(y,{src:j(Bt),"un-w-44px":"","un-h-44px":""},null,8,["src"]),R("div",pt,[R("span",Et,Ke(j(n).username),1),f[0]||(f[0]=R("span",{"un-text-14px":"","un-color-hex-969799":""},"个人资料",-1))])])]),_:1})]),_:1}),l(u,{"un-mb-8px":""},{default:T(()=>[l(r,{title:"🌗 Dark Mode 黑暗模式",center:""},{"right-icon":T(()=>[l(v,{"model-value":j(c),size:"min(5.333vw, 40px)",onClick:j(a)},null,8,["model-value","onClick"])]),_:1}),l(r,{title:"📚 Documentation 文档教程","is-link":"",url:"https://juejin.cn/column/7472609448201666599"}),l(r,{title:"📦️ GitHub 代码仓库","is-link":"",url:"https://github.com/un-pany/mobvue"}),l(r,{title:"☕ Donate 捐赠","is-link":"",url:"https://github.com/un-pany/mobvue/issues/1"}),l(r,{title:"💰 Pay 付费服务","is-link":"",url:"https://github.com/un-pany/mobvue/issues/2"}),l(r,{title:"💬 Group 交流群","is-link":"",url:"https://github.com/un-pany/mobvue/issues/3"})]),_:1}),l(m,{block:"",onClick:o,"un-b-0px":"","un-rounded-0px":""},{default:T(()=>f[1]||(f[1]=[Ge(" 退出登录 ")])),_:1})])}}});export{Rt as default};
