System.register(["./index-legacy-CtBAg45i.js","./index-legacy-Cr8bhNy9.js","./index-legacy-Duvb6WnD.js","./index-legacy-Czw3_c6S.js","./Description.vue_vue_type_script_setup_true_lang-legacy-C_kA_CTH.js","./vue-legacy-DqqM7FCT.js","./use-expose-legacy-DvKqatD-.js","./use-id-legacy-c0mbVUUC.js"],(function(e,l){"use strict";var n,r,a,t,o,s,i,u,d,m,c,g,p,v,f,h,y,b,w,x,V,_,B,S,j;return{setters:[e=>{n=e.t,r=e.n,a=e.c,t=e.u,o=e.F,s=e.p,i=e.w,u=e.r,d=e.a},e=>{m=e.B},e=>{c=e.C},e=>{g=e.F},e=>{p=e._},e=>{v=e.g,f=e.m,h=e.r,y=e.n,b=e.B,w=e.I,x=e.C,V=e.N,_=e.v,B=e.K,S=e.H},e=>{j=e.u},null],execute:function(){const[l,E]=a("form"),P={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:r,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:n,showErrorMessage:n,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var T=v({name:l,props:P,emits:["submit","failed"],setup(e,{emit:l,slots:n}){const{children:r,linkChildren:a}=t(o),i=e=>e?r.filter((l=>e.includes(l.name))):r,u=l=>{return"string"==typeof l?(e=>{const l=r.find((l=>l.name===e));return l?new Promise(((e,n)=>{l.validate().then((l=>{l?n(l):e()}))})):Promise.reject()})(l):e.validateFirst?(n=l,new Promise(((e,l)=>{const r=[];i(n).reduce(((e,l)=>e.then((()=>{if(!r.length)return l.validate().then((e=>{e&&r.push(e)}))}))),Promise.resolve()).then((()=>{r.length?l(r):e()}))}))):(e=>new Promise(((l,n)=>{const r=i(e);Promise.all(r.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?n(e):l()}))})))(l);var n},d=(e,l)=>{r.some((n=>n.name===e&&(n.$el.scrollIntoView(l),!0)))},m=()=>r.reduce(((e,l)=>(void 0!==l.name&&(e[l.name]=l.formValue.value),e)),{}),c=()=>{const n=m();u().then((()=>l("submit",n))).catch((r=>{l("failed",{values:n,errors:r});const{scrollToError:a,scrollToErrorPosition:t}=e;a&&r[0].name&&d(r[0].name,t?{block:t}:void 0)}))},g=e=>{s(e),c()};return a({props:e}),j({submit:c,validate:u,getValues:m,scrollToField:d,resetValidation:e=>{"string"==typeof e&&(e=[e]),i(e).forEach((e=>{e.resetValidation()}))},getValidationStatus:()=>r.reduce(((e,l)=>(e[l.name]=l.getValidationStatus(),e)),{})}),()=>{var e;return f("form",{class:E(),onSubmit:g},[null==(e=n.default)?void 0:e.call(n)])}}});const k=i(T),F={"un-h-full":"","un-flex-center":"","un-flex-col":"","un-select-none":""},A={"un-mx-16px":"","un-my-32px":""};e("default",v({__name:"index",setup(e){const l=S(),n=d(),r=h(!1),a=y({username:"admin",password:"12345678"});function t(){var e;r.value=!0,(e=a,u({url:"auth/login",method:"post",data:e})).then((({data:e})=>{n.setToken(e.token),l.push("/")})).catch((()=>{a.password=""})).finally((()=>{r.value=!1}))}return(e,l)=>{const n=g,o=c,s=m,i=k;return x(),b("div",F,[f(p,{"un-mb-20px":""}),f(i,{onSubmit:t},{default:w((()=>[f(o,{inset:""},{default:w((()=>[f(n,{modelValue:_(a).username,"onUpdate:modelValue":l[0]||(l[0]=e=>_(a).username=e),name:"username",label:"用户名",size:"large",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),f(n,{modelValue:_(a).password,"onUpdate:modelValue":l[1]||(l[1]=e=>_(a).password=e),type:"password",name:"password",label:"密码",size:"large",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])])),_:1}),V("div",A,[f(s,{loading:_(r),type:"primary","native-type":"submit",size:"large",round:"",block:""},{default:w((()=>l[2]||(l[2]=[B(" 登 录 ")]))),_:1},8,["loading"])])])),_:1})])}}}))}}}));
